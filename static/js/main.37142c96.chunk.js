(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,n,t){e.exports=t(486)},486:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(57),i=t.n(o),l=t(79),c=(t(225),t(239),t(422),t(28)),d=t(214),u=t(211),s=t(33),p={ADD_REQUEST:"developers/ADD_REQUEST",ADD_SUCCESS:"developers/ADD_SUCCESS",ADD_FAILURE:"developers/ADD_FAILURE",REMOVE_REQUEST:"developers/REMOVE_REQUEST",REMOVE_SUCCESS:"developers/REMOVE_SUCCESS",REMOVE_FAILURE:"developers/REMOVE_FAILURE"},f={loading:!1,data:[],error:null};var m={addDeveloperRequest:function(e){return{type:p.ADD_REQUEST,payload:{developerDataInput:e}}},addDeveloperSuccess:function(e){return{type:p.ADD_SUCCESS,payload:{data:e}}},addDeveloperFailure:function(e){return{type:p.ADD_FAILURE,payload:{error:e}}},removeDeveloperRequest:function(e){return{type:p.REMOVE_REQUEST,payload:{developer:e}}},removeDeveloperSuccess:function(e){return{type:p.REMOVE_SUCCESS,payload:{data:e}}},removeDeveloperFailure:function(e){return{type:p.REMOVE_FAILURE,payload:{error:e}}}},v=Object(c.c)({developers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p.ADD_REQUEST:return Object(s.a)({},e,{loading:!0,error:null});case p.ADD_SUCCESS:return Object(s.a)({},e,{loading:!1,error:null,data:Object(u.a)(e.data).concat([n.payload.data])});case p.ADD_FAILURE:return Object(s.a)({},e,{loading:!1,error:n.payload.error});case p.REMOVE_REQUEST:return Object(s.a)({},e,{loading:!0,error:null});case p.REMOVE_SUCCESS:return Object(s.a)({},e,{loading:!1,error:null,data:e.data.filter(function(e){return e.id!==n.payload.data.id})});case p.REMOVE_FAILURE:return Object(s.a)({},e,{loading:!1,error:n.payload.error});default:return e}}}),b=t(37),E=t.n(b),h=t(20),g=t(201),x=t.n(g).a.create({baseURL:"https://api.github.com"}),w=E.a.mark(y);function y(e){var n,t,a,r,o,i,l;return E.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=e.payload.developerDataInput,t=n.developerInput,a=n.latitude,r=n.longitude,c.next=4,Object(h.b)(x.get,"/users/".concat(t));case 4:return o=c.sent,i=o.data,c.next=8,Object(h.d)(function(e){return e.developers.data.find(function(e){return e.id===i.id})});case 8:if(!c.sent){c.next=14;break}return c.next=12,Object(h.c)(m.addDeveloperFailure("Usu\xe1rio j\xe1 existe"));case 12:c.next=17;break;case 14:return l={id:i.id,name:i.name,login:i.login,avatar:i.avatar_url,latitude:a,longitude:r},c.next=17,Object(h.c)(m.addDeveloperSuccess(l));case 17:c.next=23;break;case 19:return c.prev=19,c.t0=c.catch(0),c.next=23,Object(h.c)(m.addDeveloperFailure("Erro ao adicionar usu\xe1rio"));case 23:case"end":return c.stop()}},w,this,[[0,19]])}var O=E.a.mark(S);function S(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.e)(p.ADD_REQUEST,y)]);case 2:case"end":return e.stop()}},O,this)}var D=[],R=Object(d.a)({sagaMonitor:null});D.push(R);var j=(0,c.e)(v,Object(c.d)(c.a.apply(void 0,D)));R.run(S);var U=j,k=t(31),C=t(32);t(443);function A(){var e=Object(k.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n  body {\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: sans-serif;\n  }\n"]);return A=function(){return e},e}var I=Object(C.a)(A()),_=t(489),M=t(490),F=t(491),z=t(212),T=t(204),L=t(205),V=t(213),N=t(206),G=t(215),Q=t(113),J=t(81),B=(t(454),t(208)),q=t.n(B);function H(){var e=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  input {\n    width: 350px;\n    flex: 1;\n    height: 55px;\n    padding: 0px 20px;\n    background: #fff;\n    font-size: 18px;\n    color: #444;\n    border-radius: 3px;\n    margin-bottom: 20px;\n  }\n  .divButtons {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n  .save {\n    width: 170px;\n    height: 45px;\n    padding: 0 20px;\n    margin-left: 10px;\n    color: #fff;\n    border: 0;\n    font-size: 20px;\n    font-weight: bold;\n    border-radius: 3px;\n    background: #23952e;\n    &:hover {\n      background: #69952e;\n    }\n  }\n  .cancel {\n    width: 170px;\n    height: 45px;\n    padding: 0 20px;\n    color: #fff;\n    border: 0;\n    font-size: 20px;\n    font-weight: bold;\n    border-radius: 3px;\n    background: #999999;\n    &:hover {\n      background: #424242;\n    }\n  }\n"]);return H=function(){return e},e}function P(){var e=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  h1 {\n    margin-top: 20px;\n    font-size: 18px;\n  }\n"]);return P=function(){return e},e}var W=C.b.div(P()),X=C.b.form(H()),Y=t(209),K=t.n(Y);function Z(){var e=Object(k.a)(["\n  position: fixed; /* or absolute */\n  top: 40%;\n  left: 50%;\n  z-index: 105;\n"]);return Z=function(){return e},e}var $=C.b.div(Z()),ee=function(){return r.a.createElement($,null,r.a.createElement(K.a,{type:"Plane",color:"#00BFFF",height:80,width:80}))};function ne(){var e=Object(k.a)(["\n  display: flex;\n  position: fixed;\n  width: 400px;\n  background: #fff;\n  border-radius: 5px;\n  z-index: 99;\n  top: 15px;\n  left: 15px;\n  bottom: 15px;\n  border: 2px solid grey;\n\n  ul {\n    padding: 25px;\n    list-style: none;\n    li {\n      width: 330px;\n      button {\n        border: 0;\n        cursor: pointer;\n      }\n    }\n  }\n  .box {\n    display: flex;\n    align-items: center;\n    width: 370px;\n    flex-direction: row;\n  }\n  img {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    float: left;\n  }\n  .inner {\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n    align-items: flex-start;\n    min-width: 240px;\n    strong {\n      color: #444;\n    }\n    span {\n      font-size: 14px;\n      color: #666;\n    }\n  }\n  hr {\n    height: 1px;\n    background-color: rgba(221, 226, 236, 0.877);\n    border: none;\n    margin: 20px 20px 20px 0px;\n  }\n  .fa-stack {\n    font-size: 0.5em;\n    width: 2.09em;\n  }\n  .fa-remove {\n    position: relative;\n    top: 1px;\n    left: 4px;\n  }\n  .right {\n    flex-direction: row;\n    justify-content: space-between;\n    .del {\n      margin-left: 10px;\n      color: #f00;\n    }\n    .arrow {\n      margin-left: 20px;\n    }\n  }\n"]);return ne=function(){return e},e}var te=C.b.div(ne()),ae=function(e){var n=e.developers,t=e.handleRemoveUserGithub;return r.a.createElement(te,null,r.a.createElement("ul",null,0===n.data.length&&r.a.createElement("li",null,r.a.createElement("center",null,"No developer added.")),n.data.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"box"},r.a.createElement("img",{src:e.avatar,alt:e.name}),r.a.createElement("div",{className:"inner"},r.a.createElement("strong",null,e.name),r.a.createElement("span",null,e.login)),r.a.createElement("div",{className:"right"},r.a.createElement("span",{className:"del fa-stack"},r.a.createElement("i",{className:"fa fa-circle fa-stack-2x"}),r.a.createElement("button",{type:"button",title:"Remove",onClick:t.bind(void 0,e)},r.a.createElement("i",{className:"fa fa-remove fa-stack-1x",style:{color:"#FFF"}}))),r.a.createElement("i",{className:"arrow fa fa-angle-right fa-lg"}))),r.a.createElement("hr",null))})))},re=function(e){function n(){var e,t;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(V.a)(this,(e=Object(N.a)(n)).call.apply(e,[this].concat(r)))).state={viewport:{width:window.innerWidth,height:window.innerHeight,latitude:49.246292,longitude:-123.116226,zoom:12},visible:!1,developerInput:"",latitude:"",longitude:""},t.resize=function(){var e=t.state.viewport;t.setState({viewport:Object(s.a)({},e,{width:window.innerWidth,height:window.innerHeight})})},t.notifyError=function(){var e=t.props.developers;J.toast.error(e.error,{position:J.toast.POSITION.TOP_RIGHT}),e.error=null},t.handleMapClick=function(e){var n=Object(z.a)(e.lngLat,2),a=n[0],r=n[1];document.getElementById("idDeveloperInput").focus(),t.setState({visible:!0,latitude:r,longitude:a})},t.closeModal=function(){t.setState({visible:!1})},t.handleAddUserGithub=function(e){e.preventDefault();var n=t.state,a=n.developerInput,r=n.latitude,o=n.longitude;(0,t.props.addDeveloperRequest)({developerInput:a,latitude:r,longitude:o}),t.setState({developerInput:"",latitude:"",longitude:"",visible:!1})},t.handleRemoveUserGithub=function(e){(0,t.props.removeDeveloperRequest)(e)},t.handleChangeViewport=function(e){t.setState({viewport:e})},t}return Object(G.a)(n,e),Object(L.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this,n=this.state,t=n.developerInput,o=n.visible,i=n.viewport,l=this.props.developers;return r.a.createElement(a.Fragment,null,l.loading&&r.a.createElement(ee,null),r.a.createElement(q.a,{visible:o,width:"400",height:"200",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},r.a.createElement(W,null,r.a.createElement("h1",null,"Add a Developer"),r.a.createElement(X,{onSubmit:this.handleAddUserGithub},r.a.createElement("input",{type:"text",placeholder:"Usu\xe1rio no Github",value:t,id:"idDeveloperInput",autoComplete:"off",onChange:function(n){return e.setState({developerInput:n.target.value})}}),r.a.createElement("div",{className:"divButtons"},r.a.createElement("button",{type:"button",onClick:function(){return e.closeModal()},className:"cancel"},"Cancelar"),r.a.createElement("button",{type:"submit",className:"save"},"Salvar"))))),r.a.createElement(ae,{developers:l,handleRemoveUserGithub:this.handleRemoveUserGithub}),r.a.createElement(Q.b,Object.assign({},i,{onClick:this.handleMapClick,mapStyle:"mapbox://styles/mapbox/basic-v9",mapboxApiAccessToken:"pk.eyJ1Ijoic2NobGlja21hbm4iLCJhIjoiY2pwcTc4eGhlMDl4bTN3b2FhMXJoenc2cSJ9.owPne3A4zliOEHAt4L7GyA",onViewportChange:this.handleChangeViewport}),l.data.map(function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(Q.a,{latitude:n.latitude,longitude:n.longitude,onClick:e.handleMapClick,captureClick:!0},r.a.createElement("img",{style:{borderRadius:100,width:48,height:48,border:"4px solid #7159c1"},src:n.avatar,alt:n.name})))})),r.a.createElement(J.ToastContainer,null),!!l.error&&this.notifyError())}}]),n}(a.Component),oe=Object(l.b)(function(e){return{developers:e.developers}},function(e){return Object(c.b)(m,e)})(re),ie=function(){return r.a.createElement(_.a,null,r.a.createElement(a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(F.a,{exact:!0,path:"/",component:oe}))))},le=function(){return r.a.createElement(l.a,{store:U},r.a.createElement(I,null),r.a.createElement(ie,null))};i.a.render(r.a.createElement(le,null),document.getElementById("root"))}},[[217,2,1]]]);
//# sourceMappingURL=main.37142c96.chunk.js.map